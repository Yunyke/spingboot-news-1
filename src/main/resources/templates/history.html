<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>瀏覽紀錄</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
  <div class="container py-4">
    <h2 class="mb-4">🕵️ 我的瀏覽紀錄</h2>

    <div th:if="${historyList.isEmpty()}">
      <p class="text-muted">目前沒有任何瀏覽紀錄。</p>
    </div>

    <div class="list-group" th:each="history : ${historyList}">
      <a th:href="@{'/news/' + ${history.newsId}}" 
         class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
        
        <div>
          <div class="fw-bold" th:text="${newsMap[history.newsId]?.title}">新聞標題</div>
          <small class="text-muted">ID: <span th:text="${history.newsId}"></span></small>
        </div>

        <small class="text-muted" th:text="${#temporals.format(history.viewedAt, 'yyyy-MM-dd HH:mm')}">
          閱讀時間
        </small>
      </a>
    </div>
  </div>
</body>
</html>
